{"version":3,"file":"CopyButton.js","names":["React","createRef","PureComponent","Clipboard","Copy","CopyIcon","StyledCopyButton","jsx","_jsx","CopyButton","constructor","arguments","button","clipboard","componentDidMount","node","current","_node$parentElement","container","parentElement","undefined","componentWillUnmount","destroy","render","title","ref","props","text","style","top","right","children","size"],"sources":["../../../../src/components/elements/CodeBlock/CopyButton.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { createRef, PureComponent, ReactNode } from \"react\"\n\nimport Clipboard from \"clipboard\"\nimport { Copy as CopyIcon } from \"react-feather\"\n\nimport { StyledCopyButton } from \"./styled-components\"\n\ninterface Props {\n  text: string\n}\n\nclass CopyButton extends PureComponent<Props> {\n  private button = createRef<HTMLButtonElement>()\n\n  private clipboard: ClipboardJS | null = null\n\n  public componentDidMount = (): void => {\n    const node = this.button.current\n\n    if (node !== null) {\n      this.clipboard = new Clipboard(node, {\n        // we set the container here so that copying also works in dialogs.\n        // otherwise, the copy event is swallowed somehow.\n        container: node.parentElement ?? undefined,\n      })\n    }\n  }\n\n  public componentWillUnmount = (): void => {\n    if (this.clipboard !== null) {\n      this.clipboard.destroy()\n    }\n  }\n\n  public render(): ReactNode {\n    return (\n      <StyledCopyButton\n        data-testid=\"stCopyButton\"\n        title=\"Copy to clipboard\"\n        ref={this.button}\n        data-clipboard-text={this.props.text}\n        style={{\n          top: 0,\n          right: 0,\n        }}\n      >\n        <CopyIcon size=\"16\" />\n      </StyledCopyButton>\n    )\n  }\n}\n\nexport default CopyButton\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,aAAa,QAAmB,OAAO;AAElE,OAAOC,SAAS,MAAM,WAAW;AACjC,SAASC,IAAI,IAAIC,QAAQ,QAAQ,eAAe;AAEhD,SAASC,gBAAgB;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAMtD,MAAMC,UAAU,SAASP,aAAa,CAAQ;EAAAQ,YAAA;IAAA,SAAAC,SAAA;IAAA,KACpCC,MAAM,gBAAGX,SAAS,CAAoB,CAAC;IAAA,KAEvCY,SAAS,GAAuB,IAAI;IAAA,KAErCC,iBAAiB,GAAG,MAAY;MACrC,MAAMC,IAAI,GAAG,IAAI,CAACH,MAAM,CAACI,OAAO;MAEhC,IAAID,IAAI,KAAK,IAAI,EAAE;QAAA,IAAAE,mBAAA;QACjB,IAAI,CAACJ,SAAS,GAAG,IAAIV,SAAS,CAACY,IAAI,EAAE;UACnC;UACA;UACAG,SAAS,GAAAD,mBAAA,GAAEF,IAAI,CAACI,aAAa,cAAAF,mBAAA,cAAAA,mBAAA,GAAIG;QACnC,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,KAEMC,oBAAoB,GAAG,MAAY;MACxC,IAAI,IAAI,CAACR,SAAS,KAAK,IAAI,EAAE;QAC3B,IAAI,CAACA,SAAS,CAACS,OAAO,CAAC,CAAC;MAC1B;IACF,CAAC;EAAA;EAEMC,MAAMA,CAAA,EAAc;IACzB,oBACEf,IAAA,CAACF,gBAAgB;MACf,eAAY,cAAc;MAC1BkB,KAAK,EAAC,mBAAmB;MACzBC,GAAG,EAAE,IAAI,CAACb,MAAO;MACjB,uBAAqB,IAAI,CAACc,KAAK,CAACC,IAAK;MACrCC,KAAK,EAAE;QACLC,GAAG,EAAE,CAAC;QACNC,KAAK,EAAE;MACT,CAAE;MAAAC,QAAA,eAEFvB,IAAA,CAACH,QAAQ;QAAC2B,IAAI,EAAC;MAAI,CAAE;IAAC,CACN,CAAC;EAEvB;AACF;AAEA,eAAevB,UAAU"}